/*!
 * webTicker 2.1.3
 * Examples and documentation at:
 * http://jonmifsud.com/open-source/jquery/jquery-webticker/
 * 2011 Jonathan Mifsud
 * Version: 2.1.3 (15-APRIL-2015)
 * Dual licensed under the Creative Commons and DonationWare licenses:
 * http://creativecommons.org/licenses/by-nc/3.0/
 * https://github.com/jonmifsud/Web-Ticker/blob/master/licence.md
 * Requires:
 * jQuery v1.4.2 or later
 *
 */
!function(t){"use strict";function i(t,r){var s=t.data("settings");void 0===r&&(r=!1),r&&n(t);var a=e(t);t.animate(a.css,a.time,"linear",function(){t.css(s.direction,"0"),i(t,!0)})}function e(t){var i=t.data("settings"),e=t.children().first(),n=t.css(i.direction).replace("px","").replace("auto","0"),r=Math.abs(-n-e.outerWidth(!0)),s=1e3*r/i.speed,a={};return a[i.direction]=n-r,{css:a,time:s}}function n(t){var i=t.data("settings");t.css("transition-duration","0s").css(i.direction,"0");var e=t.children().first();e.hasClass("webticker-init")?e.remove():t.children().last().after(e)}function r(t,i){void 0===i&&(i=!1),i&&n(t);var r=e(t),s=r.time/1e3;s+="s",t.css(r.css).css("transition-duration",s)}function s(i,e,n){var r;t.get(i,function(i){var s,a=t(i);a.find("item").each(function(){var i=t(this),e={title:i.find("title").text(),link:i.find("link").text()};s="<li><a href='"+e.link+"'>"+e.title+"</a></li>",r+=s}),n.webTicker("update",r,e)})}function a(){return t(this).width()}function c(){return t(this).outerWidth(!0)}function o(t){return Math.max.apply(Math,t.children().map(a).get())}function d(i,e,n){var r=i.map(e).get(),s=n||0;return t.each(r,function(t,i){s+=i}),s}function l(t){var i=t.data("settings");t.width("auto");var e=d(t.children("li"),c),n=o(t);if(e-n<t.parent().width()||1===t.children().length)if(i.duplicate)for(n=o(t);e-n<t.parent().width()||1===t.children().length;){var r=t.children().clone();t.append(r),e=d(t.children("li"),c),n=o(t)}else{var s=t.parent().width()-e;s+=t.find("li:first").width();var a=t.find("li:first").height();t.append('<li class="ticker-spacer" style="width:'+s+"px;height:"+a+'px;"></li>')}if(i.startEmpty){var a=t.find("li:first").height();t.prepend('<li class="webticker-init" style="width:'+t.parent().width()+"px;height:"+a+'px;"></li>')}var l=d(t.children("li"),c);l>t.width()&&t.width(l+1)}var h=function(){var t=document.createElement("p").style,i=["ms","O","Moz","Webkit"];if(""===t.transition)return!0;for(;i.length;)if(i.pop()+"Transition"in t)return!0;return!1}(),u={init:function(e){return e=jQuery.extend({speed:50,direction:"left",moving:!0,startEmpty:!0,duplicate:!1,rssurl:!1,hoverpause:!0,rssfrequency:0,updatetype:"reset"},e),this.each(function(){jQuery(this).data("settings",e);var n=jQuery(this);n.addClass("newsticker");var a=n.wrap("<div class='mask'></div>");a.after("<span class='tickeroverlay-left'>&nbsp;</span><span class='tickeroverlay-right'>&nbsp;</span>");n.parent().wrap("<div class='tickercontainer'></div>");l(n),e.rssurl&&(s(e.rssurl,e.type,n),e.rssfrequency>0&&window.setInterval(function(){s(e.rssurl,e.type,n)},1e3*e.rssfrequency*60)),h?(n.css("transition-duration","0s").css(e.direction,"0"),r(n,!1),n.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend",function(i){return n.is(i.target)?void r(t(this),!0):!1})):i(t(this)),e.hoverpause&&n.hover(function(){if(h){var i=t(this).css(e.direction);t(this).css("transition-duration","0s").css(e.direction,i)}else jQuery(this).stop()},function(){jQuery(this).data("settings").moving&&(h?r(t(this),!1):i(n))})})},stop:function(){var i=t(this).data("settings");return i.moving?(i.moving=!1,this.each(function(){if(h){var e=t(this).css(i.direction);t(this).css("transition-duration","0s").css(i.direction,e)}else t(this).stop()})):void 0},cont:function(){var e=t(this).data("settings");return e.moving?void 0:(e.moving=!0,this.each(function(){h?r(t(this),!1):i(t(this))}))},update:function(i,e,n,r){e=e||"reset",void 0===n&&(n=!0),void 0===r&&(r=!1),"string"==typeof i&&(i=t(i));var s=t(this);s.webTicker("stop");var a=t(this).data("settings");if("reset"===e)s.html(i),s.css(a.direction,"0"),l(s);else if("swap"===e){s.children("li").addClass("old");for(var c=0;c<i.length;c++){var o=t(i[c]).data("update"),d=s.find('[data-update="'+o+'"]');d.length<1?n&&(0===s.find(".ticker-spacer:first-child").length&&s.find(".ticker-spacer").length>0?s.children("li.ticker-spacer").before(i[c]):s.append(i[c])):s.find('[data-update="'+o+'"]').replaceWith(i[c])}s.children("li.webticker-init, li.ticker-spacer").removeClass("old"),r&&s.children("li").remove(".old");var h=0;s.children("li").each(function(){h+=t(this).outerWidth(!0)}),s.width(h+200)}s.webTicker("cont")}};t.fn.webTicker=function(i){return u[i]?u[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.webTicker"):u.init.apply(this,arguments)}}(jQuery);